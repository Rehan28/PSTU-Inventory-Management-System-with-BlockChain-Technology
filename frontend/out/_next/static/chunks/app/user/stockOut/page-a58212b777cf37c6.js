(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5675],{12990:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(87982).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},15435:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(73365),r=a(1521),l=a(69060),d=a(86170),c=a(87982);let n=(0,c.A)("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);var i=a(42552),o=a(49703),m=a(67931);let x=(0,c.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var h=a(12990);function u(){let[e,t]=(0,r.useState)([]),[a,c]=(0,r.useState)(!0),[u,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{c(!0);let e=localStorage.getItem("userId");if(!e){f("User ID not found. Please log in."),c(!1);return}let a=await fetch("http://localhost:5000/api/stockouts/user/".concat(e));if(!a.ok)throw Error("Failed to fetch stock outs");let s=await a.json();console.log("Fetched stock outs data:",s);let r=Array.isArray(s)?s:s.data||[],l=(await Promise.all(r.map(async e=>{try{let t=await fetch("http://localhost:5000/api/items/get/".concat(e.item_id));if(t.ok){let a=await t.json();return{...e,productName:a.name||"Unknown Product"}}}catch(e){console.error("[v0] Error fetching product:",e)}return{...e,productName:"Unknown Product"}}))).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());t(l),f(null)}catch(e){console.error("[v0] Error:",e),f(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}})()},[]);let p=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 md:p-8",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsx)(d.Zp,{className:"border-0 shadow-lg",children:(0,s.jsx)(d.Wu,{className:"pt-12 pb-12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,s.jsx)("div",{className:"animate-spin",children:(0,s.jsx)(n,{className:"w-8 h-8 text-blue-600"})}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading your stock out records..."})]})})})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 md:p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("div",{className:"bg-blue-600 p-2 rounded-lg",children:(0,s.jsx)(i.A,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"My Stock Out"})]}),(0,s.jsx)("p",{className:"text-slate-600 ml-11",children:"Track all your outgoing inventory records"})]}),(0,s.jsxs)(d.Zp,{className:"border-0 shadow-lg",children:[(0,s.jsx)(d.aR,{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.ZB,{className:"text-white text-xl",children:"Stock Out Records"}),(0,s.jsxs)(d.BT,{className:"text-blue-100 mt-1",children:["Total records: ",e.length]})]}),(0,s.jsx)("div",{className:"text-4xl font-bold text-blue-100 opacity-20",children:(0,s.jsx)(n,{className:"w-12 h-12"})})]})}),(0,s.jsx)(d.Wu,{className:"p-0",children:u?(0,s.jsxs)("div",{className:"p-6 bg-red-50 border-l-4 border-red-600 flex items-center gap-3",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-red-900",children:"Error"}),(0,s.jsx)("p",{className:"text-red-700",children:u})]})]}):0===e.length?(0,s.jsxs)("div",{className:"p-12 text-center",children:[(0,s.jsx)(n,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-slate-500 text-lg",children:"No stock out records found"})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(l.XI,{children:[(0,s.jsx)(l.A0,{children:(0,s.jsxs)(l.Hj,{className:"bg-slate-50 border-b-2 border-slate-200 hover:bg-slate-50",children:[(0,s.jsx)(l.nd,{className:"text-slate-700 font-semibold",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.A,{className:"w-4 h-4"}),"Product Name"]})}),(0,s.jsx)(l.nd,{className:"text-slate-700 font-semibold",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),"Issue By"]})}),(0,s.jsx)(l.nd,{className:"text-slate-700 font-semibold",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n,{className:"w-4 h-4"}),"Quantity"]})}),(0,s.jsx)(l.nd,{className:"text-slate-700 font-semibold",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x,{className:"w-4 h-4"}),"Remarks"]})}),(0,s.jsx)(l.nd,{className:"text-slate-700 font-semibold",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"w-4 h-4"}),"Date & Time"]})})]})}),(0,s.jsx)(l.BF,{children:e.map((e,t)=>(0,s.jsxs)(l.Hj,{className:"border-b border-slate-200 hover:bg-blue-50 transition-colors",children:[(0,s.jsx)(l.nA,{className:"font-semibold text-slate-900",children:e.productName}),(0,s.jsx)(l.nA,{className:"text-slate-700",children:e.issue_by}),(0,s.jsx)(l.nA,{children:(0,s.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-700",children:e.quantity})}),(0,s.jsx)(l.nA,{className:"text-slate-600",children:e.remarks?(0,s.jsx)("span",{className:"inline-flex max-w-xs truncate",children:e.remarks}):(0,s.jsx)("span",{className:"text-slate-400 italic",children:"â€”"})}),(0,s.jsx)(l.nA,{className:"text-slate-600 text-sm",children:p(e.createdAt)})]},e._id))})]})})})]})]})})}},26056:(e,t,a)=>{Promise.resolve().then(a.bind(a,15435))},42552:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(87982).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},49703:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(87982).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},67931:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(87982).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},69060:(e,t,a)=>{"use strict";a.d(t,{A0:()=>c,BF:()=>n,Hj:()=>i,XI:()=>d,nA:()=>m,nd:()=>o});var s=a(73365),r=a(1521),l=a(69671);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",a),...r})})});d.displayName="Table";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",a),...r})});c.displayName="TableHeader";let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...r})});n.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});i.displayName="TableRow";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});o.displayName="TableHead";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});m.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"},69671:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(74584),r=a(22292);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},86170:(e,t,a)=>{"use strict";a.d(t,{BT:()=>i,Wu:()=>o,ZB:()=>n,Zp:()=>d,aR:()=>c});var s=a(73365),r=a(1521),l=a(69671);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});d.displayName="Card";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});c.displayName="CardHeader";let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});n.displayName="CardTitle";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});i.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"}},e=>{var t=t=>e(e.s=t);e.O(0,[3096,2347,4870,7358],()=>t(26056)),_N_E=e.O()}]);
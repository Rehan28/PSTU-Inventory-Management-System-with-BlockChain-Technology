(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5957],{3632:(e,t,s)=>{Promise.resolve().then(s.bind(s,46473))},5211:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(87982).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},16282:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(87982).A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},27521:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(87982).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},29095:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(87982).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},37216:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(87982).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},42552:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(87982).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},46473:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(73365),l=s(1521),c=s(86170),r=s(42552),d=s(16282),n=s(87903),i=s(27521),x=s(37216),o=s(29095);let m=(0,s(87982).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var h=s(5211),p=s(77811),u=s(62446);let j=s(94089).env.NEXT_PUBLIC_API_URL||"http://localhost:5000",f={departments:"".concat(j,"/api/departments/get"),offices:"".concat(j,"/api/offices/get"),suppliers:"".concat(j,"/api/suppliers/get"),items:"".concat(j,"/api/items/get"),stockIns:"".concat(j,"/api/stockins/get"),stockOuts:"".concat(j,"/api/stockouts/get"),deadStocks:"".concat(j,"/api/deadstocks/get"),users:"".concat(j,"/api/users/get")};async function N(e){try{let t=await fetch(e);if(!t.ok)throw Error("API Error: ".concat(t.status));return await t.json()}catch(t){return console.error("Error fetching from ".concat(e,":"),t),[]}}function b(){let[e,t]=(0,l.useState)({stockIn:!0,stockOut:!0,deadStock:!0}),[s,j]=(0,l.useState)({stockIn:1,stockOut:1,deadStock:1}),[b,y]=(0,l.useState)({totalItems:0,totalStockIn:0,totalStockOut:0,totalDeadStock:0,totalUsers:0,totalDepartments:0,totalOffices:0,totalSuppliers:0,recentStockIn:[],recentStockOut:[],recentDeadStock:[]}),[k,g]=(0,l.useState)({items:{},suppliers:{},users:{},departments:{},offices:{}}),[v,w]=(0,l.useState)(!0),[S,A]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{A(null);let[e,t,s,a,l,c,r,d]=await Promise.all([N(f.items),N(f.stockIns),N(f.stockOuts),N(f.deadStocks),N(f.users),N(f.departments),N(f.offices),N(f.suppliers)]),n={},i={},x={},o={},m={};e.forEach(e=>n[e._id]=e.name),d.forEach(e=>i[e._id]=e.name),l.forEach(e=>x[e._id]=e.name),c.forEach(e=>o[e._id]=e.name),r.forEach(e=>m[e._id]=e.name),g({items:n,suppliers:i,users:x,departments:o,offices:m});let h=(t||[]).sort((e,t)=>new Date(t.purchase_date||t.createdAt).getTime()-new Date(e.purchase_date||e.createdAt).getTime()),p=(s||[]).sort((e,t)=>new Date(t.issue_date||t.createdAt).getTime()-new Date(e.issue_date||e.createdAt).getTime()),u=(a||[]).sort((e,t)=>new Date(t.reported_at||t.createdAt).getTime()-new Date(e.reported_at||e.createdAt).getTime());y({totalItems:(null==e?void 0:e.length)||0,totalStockIn:(null==t?void 0:t.length)||0,totalStockOut:(null==s?void 0:s.length)||0,totalDeadStock:(null==a?void 0:a.length)||0,totalUsers:(null==l?void 0:l.length)||0,totalDepartments:(null==c?void 0:c.length)||0,totalOffices:(null==r?void 0:r.length)||0,totalSuppliers:(null==d?void 0:d.length)||0,recentStockIn:h,recentStockOut:p,recentDeadStock:u})}catch(e){A("Failed to load dashboard data. Please try again."),console.error("Dashboard error:",e)}finally{w(!1)}})()},[]);let _=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",I=e=>{t(t=>({...t,[e]:!t[e]}))},O=(e,t)=>{let a=(s[t]-1)*5;return e.slice(a,a+5)},D=e=>Math.ceil(e/5);return v?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-900 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Loading dashboard..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Manage inventory, stock, and operations"})]}),S&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:S}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Inventory Overview"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(c.Zp,{className:"border-slate-200",children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ZB,{className:"text-sm font-medium text-slate-600",children:"Total Items"}),(0,a.jsx)(r.A,{className:"w-5 h-5 text-blue-600"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:b.totalItems.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"In inventory"})]})]}),(0,a.jsxs)(c.Zp,{className:"border-slate-200",children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ZB,{className:"text-sm font-medium text-slate-600",children:"Stock In"}),(0,a.jsx)(d.A,{className:"w-5 h-5 text-green-600"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:b.totalStockIn.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Total entries"})]})]}),(0,a.jsxs)(c.Zp,{className:"border-slate-200",children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ZB,{className:"text-sm font-medium text-slate-600",children:"Stock Out"}),(0,a.jsx)(n.A,{className:"w-5 h-5 text-red-600"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:b.totalStockOut.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Total entries"})]})]}),(0,a.jsxs)(c.Zp,{className:"border-slate-200",children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ZB,{className:"text-sm font-medium text-slate-600",children:"Dead Stock"}),(0,a.jsx)(i.A,{className:"w-5 h-5 text-amber-600"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:b.totalDeadStock.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Inactive items"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Organization"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(c.Zp,{className:"border-slate-200",children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ZB,{className:"text-sm font-medium text-slate-600",children:"Active Users"}),(0,a.jsx)(x.A,{className:"w-5 h-5 text-purple-600"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:b.totalUsers.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Total accounts"})]})]}),(0,a.jsxs)(c.Zp,{className:"border-slate-200",children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ZB,{className:"text-sm font-medium text-slate-600",children:"Departments"}),(0,a.jsx)(o.A,{className:"w-5 h-5 text-indigo-600"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:b.totalDepartments.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Active departments"})]})]}),(0,a.jsxs)(c.Zp,{className:"border-slate-200",children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ZB,{className:"text-sm font-medium text-slate-600",children:"Offices"}),(0,a.jsx)(m,{className:"w-5 h-5 text-cyan-600"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:b.totalOffices.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Locations"})]})]}),(0,a.jsxs)(c.Zp,{className:"border-slate-200",children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ZB,{className:"text-sm font-medium text-slate-600",children:"Suppliers"}),(0,a.jsx)(h.A,{className:"w-5 h-5 text-rose-600"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:b.totalSuppliers.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Active suppliers"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Detailed Inventory Records"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"All records sorted by most recent date first"})]}),(0,a.jsxs)(c.Zp,{className:"border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 cursor-pointer hover:bg-slate-50",onClick:()=>I("stockIn"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.ZB,{className:"text-base font-semibold text-slate-900",children:"Stock In Records"}),(0,a.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[b.recentStockIn.length," total entries"]})]})]}),e.stockIn?(0,a.jsx)(p.A,{className:"w-5 h-5 text-slate-600"}):(0,a.jsx)(u.A,{className:"w-5 h-5 text-slate-600"})]}),e.stockIn&&(0,a.jsxs)(c.Wu,{className:"p-0",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-t border-b border-slate-200 bg-slate-50",children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Item Name"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Quantity"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Unit Price"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Total Price"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Invoice No"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Supplier Name"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Remarks"})]})}),(0,a.jsx)("tbody",{children:O(b.recentStockIn,"stockIn").length>0?O(b.recentStockIn,"stockIn").map(e=>{var t,s;return(0,a.jsxs)("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:_(e.purchase_date)}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700 font-medium",children:k.items[e.item_id]||e.item_id}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:e.quantity}),(0,a.jsxs)("td",{className:"px-6 py-4 text-slate-700",children:["৳ ",null===(t=e.unit_price)||void 0===t?void 0:t.toFixed(2)]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-slate-700 font-semibold text-green-600",children:["৳ ",null===(s=e.total_price)||void 0===s?void 0:s.toFixed(2)]}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:e.invoice_no}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:k.suppliers[e.supplier_id||""]||e.supplier_id||"—"}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-600",children:e.remarks||"—"})]},e._id)}):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:8,className:"px-6 py-8 text-center text-slate-500",children:"No stock in records found"})})})]})}),D(b.recentStockIn.length)>1&&(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-t border-slate-200 bg-slate-50",children:[(0,a.jsx)("button",{onClick:()=>j(e=>({...e,stockIn:Math.max(1,e.stockIn-1)})),disabled:1===s.stockIn,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded hover:bg-slate-100 disabled:opacity-50",children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm text-slate-600",children:["Page ",s.stockIn," of ",D(b.recentStockIn.length)]}),(0,a.jsx)("button",{onClick:()=>j(e=>({...e,stockIn:Math.min(D(b.recentStockIn.length),e.stockIn+1)})),disabled:s.stockIn===D(b.recentStockIn.length),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded hover:bg-slate-100 disabled:opacity-50",children:"Next"})]})]})]}),(0,a.jsxs)(c.Zp,{className:"border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 cursor-pointer hover:bg-slate-50",onClick:()=>I("stockOut"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 text-red-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.ZB,{className:"text-base font-semibold text-slate-900",children:"Stock Out Records"}),(0,a.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[b.recentStockOut.length," total entries"]})]})]}),e.stockOut?(0,a.jsx)(p.A,{className:"w-5 h-5 text-slate-600"}):(0,a.jsx)(u.A,{className:"w-5 h-5 text-slate-600"})]}),e.stockOut&&(0,a.jsxs)(c.Wu,{className:"p-0",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-t border-b border-slate-200 bg-slate-50",children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Item Name"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Quantity"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Issue Type"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Issued By Name"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"User Name"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Remarks"})]})}),(0,a.jsx)("tbody",{children:O(b.recentStockOut,"stockOut").length>0?O(b.recentStockOut,"stockOut").map(e=>(0,a.jsxs)("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:_(e.issue_date)}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700 font-medium",children:k.items[e.item_id]||e.item_id}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:e.quantity}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:e.issue_type}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:k.users[e.issue_by||""]||e.issue_by||"—"}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:k.users[e.user_id||""]||e.user_id||"—"}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-600",children:e.remarks||"—"})]},e._id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500",children:"No stock out records found"})})})]})}),D(b.recentStockOut.length)>1&&(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-t border-slate-200 bg-slate-50",children:[(0,a.jsx)("button",{onClick:()=>j(e=>({...e,stockOut:Math.max(1,e.stockOut-1)})),disabled:1===s.stockOut,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded hover:bg-slate-100 disabled:opacity-50",children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm text-slate-600",children:["Page ",s.stockOut," of ",D(b.recentStockOut.length)]}),(0,a.jsx)("button",{onClick:()=>j(e=>({...e,stockOut:Math.min(D(b.recentStockOut.length),e.stockOut+1)})),disabled:s.stockOut===D(b.recentStockOut.length),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded hover:bg-slate-100 disabled:opacity-50",children:"Next"})]})]})]}),(0,a.jsxs)(c.Zp,{className:"border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 cursor-pointer hover:bg-slate-50",onClick:()=>I("deadStock"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-amber-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.ZB,{className:"text-base font-semibold text-slate-900",children:"Dead Stock Records"}),(0,a.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[b.recentDeadStock.length," total entries"]})]})]}),e.deadStock?(0,a.jsx)(p.A,{className:"w-5 h-5 text-slate-600"}):(0,a.jsx)(u.A,{className:"w-5 h-5 text-slate-600"})]}),e.deadStock&&(0,a.jsxs)(c.Wu,{className:"p-0",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-t border-b border-slate-200 bg-slate-50",children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Date Reported"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Item Name"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Quantity"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Reason"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"User Name"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Department Name"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900",children:"Office Name"})]})}),(0,a.jsx)("tbody",{children:O(b.recentDeadStock,"deadStock").length>0?O(b.recentDeadStock,"deadStock").map(e=>(0,a.jsxs)("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:_(e.reported_at)}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700 font-medium",children:k.items[e.item_id]||e.item_id}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:e.quantity}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:e.reason}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-700",children:k.users[e.user_id||""]||e.user_id||"—"}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-600",children:k.departments[e.department_id||""]||e.department_id||"—"}),(0,a.jsx)("td",{className:"px-6 py-4 text-slate-600",children:k.offices[e.office_id||""]||e.office_id||"—"})]},e._id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:7,className:"px-6 py-8 text-center text-slate-500",children:"No dead stock records found"})})})]})}),D(b.recentDeadStock.length)>1&&(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-t border-slate-200 bg-slate-50",children:[(0,a.jsx)("button",{onClick:()=>j(e=>({...e,deadStock:Math.max(1,e.deadStock-1)})),disabled:1===s.deadStock,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded hover:bg-slate-100 disabled:opacity-50",children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm text-slate-600",children:["Page ",s.deadStock," of ",D(b.recentDeadStock.length)]}),(0,a.jsx)("button",{onClick:()=>j(e=>({...e,deadStock:Math.min(D(b.recentDeadStock.length),e.deadStock+1)})),disabled:s.deadStock===D(b.recentDeadStock.length),className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded hover:bg-slate-100 disabled:opacity-50",children:"Next"})]})]})]})]})]})})}},62446:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(87982).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},69671:(e,t,s)=>{"use strict";s.d(t,{cn:()=>c});var a=s(74584),l=s(22292);function c(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.QP)((0,a.$)(t))}},77811:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(87982).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},86170:(e,t,s)=>{"use strict";s.d(t,{BT:()=>i,Wu:()=>x,ZB:()=>n,Zp:()=>r,aR:()=>d});var a=s(73365),l=s(1521),c=s(69671);let r=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});r.displayName="Card";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",s),...l})});d.displayName="CardHeader";let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});n.displayName="CardTitle";let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",s),...l})});i.displayName="CardDescription";let x=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("p-6 pt-0",s),...l})});x.displayName="CardContent",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter"},87903:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(87982).A)("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[3096,2347,4870,7358],()=>t(3632)),_N_E=e.O()}]);
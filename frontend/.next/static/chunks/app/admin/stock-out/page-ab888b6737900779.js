(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4894],{20027:(e,s,t)=>{Promise.resolve().then(t.bind(t,71877))},23385:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(87982).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},71877:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var a=t(73365),r=t(1521),l=t(86170),i=t(58600),n=t(87812),c=t(66009),d=t(10096),o=t(69060),u=t(63678),m=t(23060),x=t(85300),h=t(46080),j=t(37216),f=t(2262),p=t(16296),y=t(23385),g=t(27521),N=t(97911),b=t(14840),w=t(59534),v=t.n(w);let k="http://localhost:5000";function _(e){let{isOpen:s,record:t,onConfirm:r,onCancel:n,isDeleting:c}=e;return s&&t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)(l.Zp,{className:"w-96",children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{className:"text-red-600",children:"Delete Stock Out Record"})}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-gray-700",children:"Are you sure you want to delete this stock out record?"}),(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded text-sm space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Item:"})," ",t.itemName]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Recipient:"})," ",t.userName]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Quantity:"})," ",t.quantity]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Date:"})," ",new Date(t.issue_date).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:n,disabled:c,children:"Cancel"}),(0,a.jsxs)(i.$,{variant:"destructive",onClick:r,disabled:c,className:"flex items-center gap-2",children:[c&&(0,a.jsx)(u.A,{className:"w-4 h-4 animate-spin"}),"Delete"]})]})]})]})}):null}function C(e){let{isOpen:s,record:t,onConfirm:c,onCancel:o,isUpdating:u,usersMap:m}=e,[x,h]=(0,r.useState)({quantity:0,issue_type:"",issue_by:"",remarks:"",issue_date:new Date().toISOString().split("T")[0]});return((0,r.useEffect)(()=>{t&&h({quantity:t.quantity||0,issue_type:t.issue_type||"",issue_by:t.issue_by||"",remarks:t.remarks||"",issue_date:t.issue_date||new Date().toISOString().split("T")[0]})},[t]),s&&t)?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)(l.Zp,{className:"w-96",children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{style:{color:"#51247a"},children:"Update Stock Out Record"})}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item"}),(0,a.jsx)(n.p,{value:t.itemName||"",disabled:!0,className:"bg-gray-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),(0,a.jsx)(n.p,{type:"number",value:x.quantity||"",onChange:e=>h({...x,quantity:Number.parseInt(e.target.value)}),style:{borderColor:"#e7e7e7"}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Type"}),(0,a.jsxs)(d.l6,{value:x.issue_type||"",onValueChange:e=>h({...x,issue_type:e}),children:[(0,a.jsx)(d.bq,{style:{borderColor:"#e7e7e7"},children:(0,a.jsx)(d.yv,{})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"manual",children:"Manual"}),(0,a.jsx)(d.eb,{value:"automatic",children:"Automatic"}),(0,a.jsx)(d.eb,{value:"emergency",children:"Emergency"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issued By"}),(0,a.jsxs)("select",{value:x.issue_by||"",onChange:e=>h({...x,issue_by:e.target.value}),style:{borderColor:"#e7e7e7"},className:"w-full px-3 py-2 border rounded-md",children:[(0,a.jsx)("option",{value:"",children:"Select User"}),m&&Object.keys(m).length>0?Object.entries(m).map(e=>{let[s,t]=e;return(0,a.jsx)("option",{value:s,children:t},s)}):(0,a.jsx)("option",{value:t.issue_by,children:t.issue_by})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),(0,a.jsx)(n.p,{value:x.remarks||"",onChange:e=>h({...x,remarks:e.target.value}),style:{borderColor:"#e7e7e7"}})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,a.jsx)(i.$,{onClick:()=>c(x),disabled:u,style:{backgroundColor:"#51247a"},className:"flex-1 text-white",children:u?"Updating...":"Update"}),(0,a.jsx)(i.$,{onClick:o,variant:"outline",className:"flex-1 bg-transparent",disabled:u,children:"Cancel"})]})]})]})}):null}function A(){let[e,s]=(0,r.useState)([]),[t,w]=(0,r.useState)(!0),[A,S]=(0,r.useState)(""),[T,O]=(0,r.useState)("All Types"),[R,E]=(0,r.useState)("All Roles"),[q,D]=(0,r.useState)([]),[I,L]=(0,r.useState)(["All Types"]),[M,U]=(0,r.useState)(["All Roles"]),[$,F]=(0,r.useState)(""),[Z,z]=(0,r.useState)({}),[P,W]=(0,r.useState)(1),[B,J]=(0,r.useState)({isOpen:!1,record:null}),[Q,V]=(0,r.useState)({isOpen:!1,record:null}),[H,X]=(0,r.useState)(!1),[G,K]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{w(!0),F("");let e=await fetch("".concat(k,"/api/stockouts/get"));if(!e.ok)throw Error("Failed to fetch stock out records");let t=await e.json(),a=await fetch("".concat(k,"/api/users/get"));if(!a.ok)throw Error("Failed to fetch users");let r=await a.json(),l=await fetch("".concat(k,"/api/items/get"));if(!l.ok)throw Error("Failed to fetch items");let i=await l.json(),n=await fetch("".concat(k,"/api/departments/get"));if(!n.ok)throw Error("Failed to fetch departments");let c=await n.json(),d=await fetch("".concat(k,"/api/offices/get"));if(!d.ok)throw Error("Failed to fetch offices");let o=await d.json(),u=new Map(r.map(e=>[e._id,e])),m=new Map(i.map(e=>[e._id,e])),x=new Map(c.map(e=>[e._id,e])),h=new Map(o.map(e=>[e._id,e])),j=t.map(e=>{let s=u.get(e.user_id),t=m.get(e.item_id),a=e.department_id?x.get(e.department_id):null,r=e.office_id?h.get(e.office_id):null;return{...e,userName:(null==s?void 0:s.name)||"Unknown User",itemName:(null==t?void 0:t.name)||"Unknown Item",departmentName:(null==a?void 0:a.name)||"N/A",officeName:(null==r?void 0:r.name)||"N/A",userRole:(null==s?void 0:s.role)||(null==s?void 0:s.roll)||"Unknown"}});j.sort((e,s)=>new Date(s.issue_date).getTime()-new Date(e.issue_date).getTime());let f=["All Types",...Array.from(new Set(j.map(e=>e.issue_type)))],p=["All Roles",...Array.from(new Set(j.map(e=>e.userRole)))];s(j),D(j),L(f),U(p)}catch(e){console.error("Error fetching data:",e),F(e instanceof Error?e.message:"Failed to load data")}finally{w(!1)}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(k,"/api/users/get"));if(e.ok){let s=await e.json(),t={};s.forEach(e=>{t[e._id]=e.name}),z(t)}}catch(e){console.error("[v0] Error fetching users:",e)}})()},[]);let Y=e=>{S(e),W(1),ee(e,T,R)},ee=(s,t,a)=>{let r=[...e];r.sort((e,s)=>new Date(s.issue_date).getTime()-new Date(e.issue_date).getTime()),s&&(r=r.filter(e=>e.userName.toLowerCase().includes(s.toLowerCase())||e.itemName.toLowerCase().includes(s.toLowerCase())||e.issue_by.toLowerCase().includes(s.toLowerCase())||e.departmentName.toLowerCase().includes(s.toLowerCase())||e.officeName.toLowerCase().includes(s.toLowerCase()))),"All Types"!==t&&(r=r.filter(e=>e.issue_type===t)),"All Roles"!==a&&(r=r.filter(e=>e.userRole===a)),D(r)},es=Math.ceil(q.length/10),et=(P-1)*10,ea=q.slice(et,et+10),er=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),el=async()=>{let t=B.record;if(t){X(!0);try{if(!(await fetch("".concat(k,"/api/stockouts/delete/").concat(t._id),{method:"DELETE"})).ok)throw Error("Failed to delete record");await fetch("".concat(k,"/api/currentstockouts/update-quantity"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.user_id,item_id:t.item_id,quantity:-t.quantity})}),await fetch("".concat(k,"/api/currentstockins/update-quantity"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.issue_by,item_id:t.item_id,quantity:t.quantity})}),s(e.filter(e=>e._id!==t._id)),D(q.filter(e=>e._id!==t._id)),J({isOpen:!1,record:null}),alert("Record deleted successfully and current stock updated")}catch(e){console.error("Error deleting:",e),alert("Failed to delete record")}finally{X(!1)}}},ei=async t=>{if(Q.record){K(!0);try{let a=Q.record.quantity,r=(t.quantity||a)-a,l=await fetch("".concat(k,"/api/stockouts/update/").concat(Q.record._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!l.ok)throw Error("Failed to update record");0!==r&&(await fetch("".concat(k,"/api/currentstockouts/update-quantity"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:Q.record.user_id,item_id:Q.record.item_id,quantity:-r})}),await fetch("".concat(k,"/api/currentstockins/update-quantity"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:Q.record.issue_by,item_id:Q.record.item_id,quantity:r})}));let i=await l.json(),n={...i,userName:Q.record.userName,itemName:Q.record.itemName,departmentName:Q.record.departmentName,officeName:Q.record.officeName,userRole:Q.record.userRole};s(e.map(e=>e._id===i._id?n:e)),D(q.map(e=>e._id===i._id?n:e)),V({isOpen:!1,record:null}),alert("Record updated successfully and current stock synchronized")}catch(e){console.error("Error updating:",e),alert("Failed to update record")}finally{K(!1)}}},en=e=>{switch(e.toLowerCase()){case"manual":return"bg-blue-100 text-blue-800";case"automatic":return"bg-green-100 text-green-800";case"emergency":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ec=e=>{switch(e.toLowerCase()){case"teacher":return"bg-purple-100 text-purple-800";case"staff":return"bg-orange-100 text-orange-800";case"admin":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#51247a"},children:"Stock Out Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Track and manage all inventory issues and stock distributions"})]}),(0,a.jsx)(v(),{href:"/admin/stock-out/create",children:(0,a.jsxs)(i.$,{className:"text-white hover:bg-purple-700 flex items-center",style:{backgroundColor:"#51247a"},children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"New Stock Issue"]})})]}),(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(u.A,{className:"w-8 h-8 animate-spin mx-auto mb-4",style:{color:"#51247a"}}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading stock out records..."})]})})]}):$?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#51247a"},children:"Stock Out Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Track and manage all inventory issues and stock distributions"})]}),(0,a.jsx)(v(),{href:"/admin/stock-out/create",children:(0,a.jsxs)(i.$,{className:"text-white hover:bg-purple-700 flex items-center",style:{backgroundColor:"#51247a"},children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"New Stock Issue"]})})]}),(0,a.jsx)(l.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:(0,a.jsx)(l.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center text-red-600",children:[(0,a.jsx)("p",{className:"font-medium",children:"Error loading data"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:$}),(0,a.jsx)(i.$,{onClick:()=>window.location.reload(),className:"mt-4",variant:"outline",children:"Retry"})]})})})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#51247a"},children:"Stock Out Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Track and manage all inventory issues and stock distributions"})]}),(0,a.jsx)(v(),{href:"/admin/stock-out/create",children:(0,a.jsxs)(i.$,{className:"text-white hover:bg-purple-700 flex items-center",style:{backgroundColor:"#51247a"},children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"New Stock Issue"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(l.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Issues"}),(0,a.jsx)("p",{className:"text-2xl font-bold",style:{color:"#51247a"},children:e.length})]}),(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"#fef2f2"},children:(0,a.jsx)(x.A,{className:"w-4 h-4 text-red-600"})})]})})}),(0,a.jsx)(l.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Quantity Issued"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:e.reduce((e,s)=>e+s.quantity,0)})]}),(0,a.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(h.A,{className:"w-4 h-4 text-red-600"})})]})})}),(0,a.jsx)(l.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Unique Recipients"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:new Set(e.map(e=>e.user_id)).size})]}),(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(j.A,{className:"w-4 h-4 text-blue-600"})})]})})}),(0,a.jsx)(l.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Manual Issues"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:e.filter(e=>"manual"===e.issue_type).length})]}),(0,a.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(f.A,{className:"w-3 h-3 text-orange-600"})})]})})})]}),(0,a.jsxs)(l.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{style:{color:"#51247a"},children:"Stock Out Records"}),(0,a.jsxs)(l.BT,{children:["View and manage all stock issue records (showing ",ea.length," of ",q.length,")"]})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,a.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(n.p,{placeholder:"Search by user, item, issuer, or location...",value:A,onChange:e=>Y(e.target.value),className:"pl-10 focus:border-purple-500",style:{borderColor:"#e7e7e7"}})]}),(0,a.jsxs)(d.l6,{value:T,onValueChange:e=>{O(e),W(1),ee(A,e,R)},children:[(0,a.jsx)(d.bq,{className:"w-48 focus:border-purple-500",style:{borderColor:"#e7e7e7"},children:(0,a.jsx)(d.yv,{})}),(0,a.jsx)(d.gC,{children:I.map(e=>(0,a.jsx)(d.eb,{value:e,children:e},e))})]}),(0,a.jsxs)(d.l6,{value:R,onValueChange:e=>{E(e),W(1),ee(A,T,e)},children:[(0,a.jsx)(d.bq,{className:"w-48 focus:border-purple-500",style:{borderColor:"#e7e7e7"},children:(0,a.jsx)(d.yv,{})}),(0,a.jsx)(d.gC,{children:M.map(e=>(0,a.jsx)(d.eb,{value:e,children:e},e))})]})]}),(0,a.jsx)("div",{className:"rounded-md border",style:{borderColor:"#e7e7e7"},children:(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{style:{backgroundColor:"#f8fafc"},children:[(0,a.jsx)(o.nd,{style:{color:"#51247a"},children:"No"}),(0,a.jsx)(o.nd,{style:{color:"#51247a"},children:"Recipient"}),(0,a.jsx)(o.nd,{style:{color:"#51247a"},children:"Item"}),(0,a.jsx)(o.nd,{style:{color:"#51247a"},children:"Quantity"}),(0,a.jsx)(o.nd,{style:{color:"#51247a"},children:"Issue Type"}),(0,a.jsx)(o.nd,{style:{color:"#51247a"},children:"Issue By"}),(0,a.jsx)(o.nd,{style:{color:"#51247a"},children:"Role"}),(0,a.jsx)(o.nd,{style:{color:"#51247a"},children:"Department/Office"}),(0,a.jsx)(o.nd,{style:{color:"#51247a"},children:"Date & Time"}),(0,a.jsx)(o.nd,{style:{color:"#51247a"},children:"Actions"})]})}),(0,a.jsx)(o.BF,{children:ea.map((e,s)=>(0,a.jsxs)(o.Hj,{className:"hover:bg-gray-50",children:[(0,a.jsx)(o.nA,{children:(0,a.jsx)("span",{className:"font-medium text-gray-900",children:et+s+1})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.userName})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.itemName})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(c.E,{variant:"outline",className:"text-xs",children:e.quantity})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(c.E,{className:"text-xs ".concat(en(e.issue_type)),children:e.issue_type})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)("p",{className:"font-medium text-gray-900",children:Z[e.issue_by]||e.issue_by})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(c.E,{className:"text-xs ".concat(ec(e.userRole)),children:e.userRole})}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{children:["teacher"===e.userRole&&(0,a.jsx)("p",{className:"text-sm text-gray-900",children:e.departmentName}),"staff"===e.userRole&&(0,a.jsx)("p",{className:"text-sm text-gray-900",children:e.officeName}),"teacher"!==e.userRole&&"staff"!==e.userRole&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"N/A"})]})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)("p",{className:"text-sm text-gray-600",children:er(e.issue_date)})}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.$,{size:"sm",variant:"outline",className:"border-blue-200 text-blue-600 hover:bg-blue-50 bg-transparent",onClick:()=>V({isOpen:!0,record:e}),children:(0,a.jsx)(y.A,{className:"w-3 h-3"})}),(0,a.jsx)(i.$,{size:"sm",variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50 bg-transparent",onClick:()=>J({isOpen:!0,record:e}),children:(0,a.jsx)(g.A,{className:"w-3 h-3"})})]})})]},e._id))})]})}),0===q.length&&!t&&(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No stock out records found matching your search criteria."})}),q.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Page ",P," of ",es," (Total: ",q.length," records)"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>W(Math.max(1,P-1)),disabled:1===P,className:"flex items-center gap-1",children:[(0,a.jsx)(N.A,{className:"w-4 h-4"}),"Previous"]}),(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>W(Math.min(es,P+1)),disabled:P===es,className:"flex items-center gap-1",children:["Next",(0,a.jsx)(b.A,{className:"w-4 h-4"})]})]})]})]})]}),(0,a.jsx)(_,{isOpen:B.isOpen,record:B.record,onConfirm:el,onCancel:()=>J({isOpen:!1,record:null}),isDeleting:H}),(0,a.jsx)(C,{isOpen:Q.isOpen,record:Q.record,onConfirm:ei,onCancel:()=>V({isOpen:!1,record:null}),isUpdating:G,usersMap:Z})]})}},85300:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(87982).A)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[3096,9924,7976,4973,8949,2347,4870,7358],()=>s(20027)),_N_E=e.O()}]);
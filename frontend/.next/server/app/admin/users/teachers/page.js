(()=>{var e={};e.id=5613,e.ids=[5613],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4535:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var t=a(28625),r=a(64996),l=a(55136),n=a(55918),i=a(1332),d=a(77374),c=a(70136),o=a(61242),m=a(51936),h=a(33272);let x=(0,a(33922).A)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);var u=a(94922),p=a(58400),f=a(11332),j=a(83029),g=a(51275),y=a(93948),v=a.n(y);function b(){let[e,s]=(0,r.useState)([]),[a,y]=(0,r.useState)(!0),[b,N]=(0,r.useState)(""),[w,C]=(0,r.useState)("All Departments"),[_,A]=(0,r.useState)([]),[k,P]=(0,r.useState)(["All Departments"]),[T,E]=(0,r.useState)(""),[D,S]=(0,r.useState)(!1),[q,L]=(0,r.useState)(null),[M,$]=(0,r.useState)({name:"",email:"",phone:"",designation:"",qualification:""}),[G,F]=(0,r.useState)(!1),[z,W]=(0,r.useState)(null),Z=e=>{N(e),R(e,w)},R=(s,a)=>{let t=e;s&&(t=t.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase())||e._id?.toLowerCase().includes(s.toLowerCase())||e.departmentName.toLowerCase().includes(s.toLowerCase()))),"All Departments"!==a&&(t=t.filter(e=>e.departmentName===a)),A(t)},I=e=>{L(e),$({name:e.name,email:e.email,phone:e.phone_number||"",designation:e.designation||"",qualification:e.qualification||""}),S(!0)},B=async()=>{if(q)try{F(!0);let e=await fetch(`http://localhost:5000/api/users/update/${q._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!e.ok)throw Error("Failed to update teacher");await e.json(),s(e=>e.map(e=>e._id===q._id?{...e,...M}:e)),A(e=>e.map(e=>e._id===q._id?{...e,...M}:e)),alert("Teacher updated successfully!"),S(!1)}catch(e){console.error("Error updating teacher:",e),alert("Failed to update teacher")}finally{F(!1)}},O=async(e,a)=>{if(window.confirm(`Are you sure you want to delete ${a}?`))try{if(W(e),(await fetch(`http://localhost:5000/api/users/delete/${e}`,{method:"DELETE"})).ok)s(s=>s.filter(s=>s._id!==e)),A(s=>s.filter(s=>s._id!==e)),alert("Teacher deleted successfully!");else throw Error("Failed to delete teacher")}catch(e){console.error("Error deleting teacher:",e),alert("Failed to delete teacher")}finally{W(null)}};return a?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#51247a"},children:"Teachers Management"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage and view all teaching faculty members"})]}),(0,t.jsx)(v(),{href:"/admin/teachers/create",children:(0,t.jsxs)(n.$,{className:"text-white hover:bg-purple-700 flex items-center",style:{backgroundColor:"#51247a"},children:[(0,t.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Add Teacher"]})})]}),(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(h.A,{className:"w-8 h-8 animate-spin mx-auto mb-4",style:{color:"#51247a"}}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading teachers..."})]})})]}):T?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#51247a"},children:"Teachers Management"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage and view all teaching faculty members"})]}),(0,t.jsx)(v(),{href:"/admin/teachers/create",children:(0,t.jsxs)(n.$,{className:"text-white hover:bg-purple-700 flex items-center",style:{backgroundColor:"#51247a"},children:[(0,t.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Add Teacher"]})})]}),(0,t.jsx)(l.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:(0,t.jsx)(l.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center text-red-600",children:[(0,t.jsx)("p",{className:"font-medium",children:"Error loading data"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:T}),(0,t.jsx)(n.$,{onClick:()=>window.location.reload(),className:"mt-4",variant:"outline",children:"Retry"})]})})})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#51247a"},children:"Teachers Management"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage and view all teaching faculty members"})]}),(0,t.jsx)(v(),{href:"/admin/teachers/create",children:(0,t.jsxs)(n.$,{className:"text-white hover:bg-purple-700 flex items-center",style:{backgroundColor:"#51247a"},children:[(0,t.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Add Teacher"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(l.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:(0,t.jsx)(l.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Teachers"}),(0,t.jsx)("p",{className:"text-2xl font-bold",style:{color:"#51247a"},children:e.length})]}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"#f3e8ff"},children:(0,t.jsx)(x,{className:"w-4 h-4 text-purple-600"})})]})})}),(0,t.jsx)(l.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:(0,t.jsx)(l.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"With Phone Numbers"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>e.phone_number&&""!==e.phone_number.trim()).length})]}),(0,t.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(u.A,{className:"w-4 h-4 text-green-600"})})]})})}),(0,t.jsx)(l.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:(0,t.jsx)(l.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Departments"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:new Set(e.map(e=>e.departmentName).filter(e=>"N/A"!==e)).size})]}),(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(p.A,{className:"w-4 h-4 text-blue-600"})})]})})})]}),(0,t.jsxs)(l.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{style:{color:"#51247a"},children:"All Teachers"}),(0,t.jsx)(l.BT,{children:"View and manage all teaching faculty members"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4 mb-6",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,t.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,t.jsx)(i.p,{placeholder:"Search by name, email, user ID, or department...",value:b,onChange:e=>Z(e.target.value),className:"pl-10 focus:border-purple-500",style:{borderColor:"#e7e7e7"}})]}),(0,t.jsxs)(d.l6,{value:w,onValueChange:e=>{C(e),R(b,e)},children:[(0,t.jsx)(d.bq,{className:"w-48 focus:border-purple-500",style:{borderColor:"#e7e7e7"},children:(0,t.jsx)(d.yv,{})}),(0,t.jsx)(d.gC,{children:k.map(e=>(0,t.jsx)(d.eb,{value:e,children:e},e))})]})]}),(0,t.jsx)("div",{className:"rounded-md border",style:{borderColor:"#e7e7e7"},children:(0,t.jsxs)(c.XI,{children:[(0,t.jsx)(c.A0,{children:(0,t.jsxs)(c.Hj,{style:{backgroundColor:"#f8fafc"},children:[(0,t.jsx)(c.nd,{style:{color:"#51247a"},children:"No"}),(0,t.jsx)(c.nd,{style:{color:"#51247a"},children:"Teacher"}),(0,t.jsx)(c.nd,{style:{color:"#51247a"},children:"Department"}),(0,t.jsx)(c.nd,{style:{color:"#51247a"},children:"Phone Number"}),(0,t.jsx)(c.nd,{style:{color:"#51247a"},children:"Actions"})]})}),(0,t.jsx)(c.BF,{children:_.map((e,s)=>(0,t.jsxs)(c.Hj,{className:"hover:bg-gray-50",children:[(0,t.jsx)(c.nA,{children:(0,t.jsx)("span",{className:"font-medium text-gray-900",children:s+1})}),(0,t.jsx)(c.nA,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})}),(0,t.jsx)(c.nA,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.departmentName}),"N/A"!==e.facultyName&&(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Faculty: ",e.facultyName]})]})}),(0,t.jsx)(c.nA,{children:(0,t.jsx)("div",{children:e.phone_number&&""!==e.phone_number.trim()?(0,t.jsxs)("p",{className:"text-sm text-gray-900 flex items-center",children:[(0,t.jsx)(u.A,{className:"w-3 h-3 mr-1"}),e.phone_number]}):(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"N/A"})})}),(0,t.jsx)(c.nA,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.$,{size:"sm",variant:"outline",className:"border-blue-200 text-blue-600 hover:bg-blue-50 bg-transparent",onClick:()=>I(e),children:(0,t.jsx)(j.A,{className:"w-3 h-3"})}),(0,t.jsx)(n.$,{size:"sm",variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50 bg-transparent",onClick:()=>O(e._id,e.name),disabled:z===e._id,children:z===e._id?(0,t.jsx)(h.A,{className:"w-3 h-3 animate-spin"}):(0,t.jsx)(g.A,{className:"w-3 h-3"})})]})})]},e._id))})]})}),0===_.length&&!a&&(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No teachers found matching your search criteria."})})]})]}),(0,t.jsx)(o.lG,{open:D,onOpenChange:S,children:(0,t.jsxs)(o.Cf,{children:[(0,t.jsxs)(o.c7,{children:[(0,t.jsx)(o.L3,{children:"Edit Teacher Information"}),(0,t.jsx)(o.rr,{children:"Update the teacher's details below"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),(0,t.jsx)(i.p,{value:M.name,onChange:e=>$({...M,name:e.target.value}),placeholder:"Teacher name",className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)(i.p,{value:M.email,onChange:e=>$({...M,email:e.target.value}),placeholder:"Email address",type:"email",className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Phone Number"}),(0,t.jsx)(i.p,{value:M.phone,onChange:e=>$({...M,phone:e.target.value}),placeholder:"Phone number",className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Designation"}),(0,t.jsx)(i.p,{value:M.designation,onChange:e=>$({...M,designation:e.target.value}),placeholder:"Designation",className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Qualification"}),(0,t.jsx)(i.p,{value:M.qualification,onChange:e=>$({...M,qualification:e.target.value}),placeholder:"Qualification",className:"mt-1"})]})]}),(0,t.jsxs)(o.Es,{children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),(0,t.jsx)(n.$,{onClick:B,disabled:G,style:{backgroundColor:"#51247a"},className:"text-white",children:G?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Save Changes"})]})]})})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15704:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c});var t=a(5853),r=a(60554),l=a(30708),n=a.n(l),i=a(8067),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(s,d);let c={children:["",{children:["admin",{children:["users",{children:["teachers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,55718)),"D:\\pstu_inventory_management\\frontend\\app\\admin\\users\\teachers\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(a.bind(a,73823)),"D:\\pstu_inventory_management\\frontend\\app\\admin\\users\\teachers\\loading.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,87254)),"D:\\pstu_inventory_management\\frontend\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,31077))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,97898)),"D:\\pstu_inventory_management\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,92192,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,82137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,48358,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,31077))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["D:\\pstu_inventory_management\\frontend\\app\\admin\\users\\teachers\\page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/users/teachers/page",pathname:"/admin/users/teachers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24855:(e,s,a)=>{Promise.resolve().then(a.bind(a,4535))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},55718:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\pstu_inventory_management\\\\frontend\\\\app\\\\admin\\\\users\\\\teachers\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\pstu_inventory_management\\frontend\\app\\admin\\users\\teachers\\page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73823:(e,s,a)=>{"use strict";function t(){return null}a.r(s),a.d(s,{default:()=>t})},79551:e=>{"use strict";e.exports=require("url")},87903:(e,s,a)=>{Promise.resolve().then(a.bind(a,55718))}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[9683,9139,4405,8949,9143,3203,8443,8632],()=>a(15704));module.exports=t})();
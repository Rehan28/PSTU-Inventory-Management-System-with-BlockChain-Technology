(()=>{var e={};e.id=6087,e.ids=[6087],e.modules={1332:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(28625),a=s(64996),d=s(36761);let n=a.forwardRef(({className:e,type:t,...s},a)=>(0,r.jsx)("input",{type:t,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));n.displayName="Input"},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3535:(e,t,s)=>{Promise.resolve().then(s.bind(s,81674))},5106:(e,t,s)=>{"use strict";s.d(t,{Fc:()=>i,TN:()=>c,XL:()=>o});var r=s(28625),a=s(64996),d=s(44714),n=s(36761);let l=(0,d.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=a.forwardRef(({className:e,variant:t,...s},a)=>(0,r.jsx)("div",{ref:a,role:"alert",className:(0,n.cn)(l({variant:t}),e),...s}));i.displayName="Alert";let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));o.displayName="AlertTitle";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11332:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(33922).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19205:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var r=s(28625);s(64996);var a=s(44714),d=s(36761);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...s}){return(0,r.jsx)("div",{className:(0,d.cn)(n({variant:t}),e),...s})}},22494:(e,t,s)=>{"use strict";function r(){return null}s.r(t),s.d(t,{default:()=>r})},24404:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\pstu_inventory_management\\\\frontend\\\\app\\\\admin\\\\dead-stock\\\\create\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\pstu_inventory_management\\frontend\\app\\admin\\dead-stock\\create\\page.tsx","default")},24429:()=>{},29234:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(33922).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29395:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(33922).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},29965:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(33922).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},33272:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(33922).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},33873:e=>{"use strict";e.exports=require("path")},43785:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(33922).A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},54979:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(33922).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},55313:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var r=s(28625),a=s(64996),d=s(5413),n=a.forwardRef((e,t)=>(0,r.jsx)(d.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=s(44714),i=s(36761);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(n,{ref:s,className:(0,i.cn)(o(),e),...t}));c.displayName=n.displayName},58400:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(33922).A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64749:()=>{},68885:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(33922).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},77374:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>f,gC:()=>h,l6:()=>c,yv:()=>m});var r=s(28625),a=s(64996),d=s(69201),n=s(63202),l=s(92331),i=s(32494),o=s(36761);let c=d.bL;d.YJ;let m=d.WT,u=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(d.l9,{ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,(0,r.jsx)(d.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=d.l9.displayName;let p=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(d.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})}));p.displayName=d.PP.displayName;let x=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(d.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})}));x.displayName=d.wn.displayName;let h=a.forwardRef(({className:e,children:t,position:s="popper",...a},n)=>(0,r.jsx)(d.ZL,{children:(0,r.jsxs)(d.UC,{ref:n,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[(0,r.jsx)(p,{}),(0,r.jsx)(d.LM,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(x,{})]})}));h.displayName=d.UC.displayName,a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(d.JU,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=d.JU.displayName;let f=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(d.q7,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(d.VF,{children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),(0,r.jsx)(d.p4,{children:t})]}));f.displayName=d.q7.displayName,a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(d.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=d.wv.displayName},79285:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(33922).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},79344:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(33922).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},79551:e=>{"use strict";e.exports=require("url")},81674:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(28625),a=s(64996),d=s(55136),n=s(55918),l=s(1332),i=s(55313),o=s(77374),c=s(5106),m=s(19205),u=s(33272),p=s(29965),x=s(29395),h=s(11332),f=s(68885),y=s(79285),g=s(93948),v=s.n(g);let j=["Damaged","Expired","Obsolete","Lost","Stolen","Defective","Worn Out","Broken","Contaminated","Other"];function b(){let[e,t]=(0,a.useState)(""),[s,g]=(0,a.useState)({userId:"",itemId:"",quantity:0,reason:"",reportedAt:""}),[b,N]=(0,a.useState)(!1),[k,w]=(0,a.useState)(!1),[A,q]=(0,a.useState)({}),[C,I]=(0,a.useState)([]),[_,M]=(0,a.useState)([]),[R,S]=(0,a.useState)(""),[P,D]=(0,a.useState)(!1),[E,T]=(0,a.useState)(!0),[F,z]=(0,a.useState)(null),[L,$]=(0,a.useState)([]),[J,H]=(0,a.useState)(!0),[B,O]=(0,a.useState)(null),[U,V]=(0,a.useState)(!1),G=async(e,t)=>{if(!e||!t){O(null);return}try{V(!0);let s=await fetch(`http://localhost:5000/api/currentstockouts/quantity?user_id=${e}&item_id=${t}`);if(!s.ok)throw Error(`HTTP error! status: ${s.status}`);let r=await s.json(),a=Array.isArray(r)?r[0]?.quantity:r.quantity;O(a||0)}catch(e){console.error("Error fetching available quantity:",e),O(null)}finally{V(!1)}},Z=e=>{S(e),M(C.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase()))),D(!0)},Q=e=>{g(t=>({...t,userId:e._id})),z(e),S(e.name),D(!1),q(e=>({...e,userId:""})),s.itemId&&G(e._id,s.itemId)},W=()=>{let e={};return s.userId.trim()||(e.userId="User is required"),s.itemId.trim()||(e.itemId="Item is required"),s.quantity<=0&&(e.quantity="Quantity must be greater than 0"),null!==B&&s.quantity>B&&(e.quantity=`Quantity cannot exceed available stock (${B})`),s.reason.trim()||(e.reason="Reason is required"),s.reportedAt||(e.reportedAt="Reported date is required"),s.userId.trim()&&!F&&(e.userId="Please select a valid user"),q(e),0===Object.keys(e).length},X=async e=>{if(e.preventDefault(),W()){N(!0);try{let e;let t={user_id:s.userId,item_id:s.itemId,department_id:F?.department_id||F?.departmentId,quantity:s.quantity,reason:s.reason,reported_at:s.reportedAt};console.log("Sending deadstock data:",t);let r=await fetch("http://localhost:5000/api/deadstocks/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});try{e=await r.json(),console.log("Response data:",e)}catch(t){console.error("Failed to parse JSON response:",t);let e=await r.text();throw console.log("Raw response text:",e),Error(`Server returned invalid JSON. Status: ${r.status}`)}if(!r.ok){console.error("API Error Details:",{status:r.status,statusText:r.statusText,data:e});let t=e?.message||e?.error||`HTTP ${r.status}: ${r.statusText}`||"Unknown server error";throw Error(t)}try{let e=await fetch("http://localhost:5000/api/currentstockouts/update-quantity",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:s.userId,item_id:s.itemId,quantity:s.quantity})});e.ok||console.error("Failed to update quantity:",e.status)}catch(e){console.error("Error updating quantity:",e)}w(!0),g({userId:"",itemId:"",quantity:0,reason:"",reportedAt:""}),z(null),S(""),O(null),q({})}catch(e){console.error("Error creating deadstock record:",e),q({submit:e instanceof Error?e.message:"Failed to create deadstock record. Please try again."})}finally{N(!1)}}};return E||J?(0,r.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(u.A,{className:"w-8 h-8 animate-spin mx-auto mb-4",style:{color:"#51247a"}}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading form data..."})]})})}):(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("div",{className:"flex items-center space-x-4 mb-4",children:(0,r.jsx)(v(),{href:"/admin/deadstock",children:(0,r.jsxs)(n.$,{variant:"outline",size:"sm",className:"bg-transparent",style:{borderColor:"#e7e7e7",color:"#51247a"},children:[(0,r.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Back to Deadstock Records"]})})}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#fef2f2"},children:(0,r.jsx)(x.A,{className:"w-6 h-6 text-red-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold",style:{color:"#51247a"},children:"Report Deadstock"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Report damaged, expired, or unusable inventory items"})]})]})]}),e&&(0,r.jsx)(c.Fc,{className:"mb-6 border-red-200 bg-red-50",children:(0,r.jsx)(c.TN,{className:"text-red-700",children:e})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,r.jsxs)(d.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsxs)(d.ZB,{className:"flex items-center space-x-2",style:{color:"#51247a"},children:[(0,r.jsx)(x.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Deadstock Information"})]}),(0,r.jsx)(d.BT,{children:"Enter details about the deadstock item"})]}),(0,r.jsxs)(d.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{htmlFor:"userName",style:{color:"#51247a"},children:"User Name *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"flex items-center border rounded-md",style:{borderColor:A.userId?"#ef4444":"#e7e7e7"},children:[(0,r.jsx)(h.A,{className:"w-4 h-4 ml-2 text-gray-400"}),(0,r.jsx)("input",{id:"userName",type:"text",value:R,onChange:e=>Z(e.target.value),onFocus:()=>D(!0),placeholder:"Search user name or email...",className:"flex-1 px-3 py-2 outline-none text-sm bg-transparent"})]}),A.userId&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:A.userId}),P&&(0,r.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 border rounded-md bg-white shadow-lg z-10 max-h-48 overflow-y-auto",style:{borderColor:"#e7e7e7"},children:_.length>0?_.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>Q(e),className:"w-full text-left px-3 py-2 hover:bg-purple-50 text-sm transition-colors",children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]},e._id)):(0,r.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No users found"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{htmlFor:"itemId",style:{color:"#51247a"},children:"Item *"}),(0,r.jsxs)(o.l6,{value:s.itemId,onValueChange:e=>{g(t=>({...t,itemId:e})),q(e=>({...e,itemId:""})),s.userId&&G(s.userId,e)},children:[(0,r.jsx)(o.bq,{className:`focus:border-purple-500 ${A.itemId?"border-red-300":""}`,style:{borderColor:A.itemId?"#ef4444":"#e7e7e7"},children:(0,r.jsx)(o.yv,{placeholder:"Select Item"})}),(0,r.jsx)(o.gC,{children:L.map(e=>(0,r.jsx)(o.eb,{value:e._id,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.name}),e.category&&(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Category: ",e.category]}),e.brand&&(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:["Brand: ",e.brand]})]})},e._id))})]}),A.itemId&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:A.itemId})]})]}),s.userId&&s.itemId&&(0,r.jsx)("div",{className:"p-2 rounded-lg border border-1 inline-flex items-center gap-3",style:{backgroundColor:"#f0f4ff",borderColor:"#51247a"},children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-medium",style:{color:"#51247a"},children:"Available"}),U?(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(u.A,{className:"w-3 h-3 animate-spin",style:{color:"#51247a"}})}):(0,r.jsx)("p",{className:"text-sm font-bold",style:{color:"#51247a"},children:B??"N/A"})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{htmlFor:"quantity",style:{color:"#51247a"},children:"Quantity *"}),(0,r.jsx)(l.p,{id:"quantity",type:"number",min:"1",value:s.quantity||"",onChange:e=>{let t=Number.parseInt(e.target.value)||0;g(e=>({...e,quantity:t})),A.quantity&&q(e=>({...e,quantity:""}))},placeholder:"0",className:`focus:border-purple-500 ${A.quantity?"border-red-300":""}`,style:{borderColor:A.quantity?"#ef4444":"#e7e7e7"}}),A.quantity&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:A.quantity})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{htmlFor:"reason",style:{color:"#51247a"},children:"Reason *"}),(0,r.jsxs)(o.l6,{value:s.reason,onValueChange:e=>{g(t=>({...t,reason:e})),A.reason&&q(e=>({...e,reason:""}))},children:[(0,r.jsx)(o.bq,{className:`focus:border-purple-500 ${A.reason?"border-red-300":""}`,style:{borderColor:A.reason?"#ef4444":"#e7e7e7"},children:(0,r.jsx)(o.yv,{placeholder:"Select Reason"})}),(0,r.jsx)(o.gC,{children:j.map(e=>(0,r.jsx)(o.eb,{value:e,children:e},e))})]}),A.reason&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:A.reason})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.J,{htmlFor:"reportedAt",style:{color:"#51247a"},children:"Reported Date *"}),(0,r.jsx)(l.p,{id:"reportedAt",type:"date",value:s.reportedAt,onChange:e=>{g(t=>({...t,reportedAt:e.target.value})),A.reportedAt&&q(e=>({...e,reportedAt:""}))},className:`focus:border-purple-500 ${A.reportedAt?"border-red-300":""}`,style:{borderColor:A.reportedAt?"#ef4444":"#e7e7e7"}}),A.reportedAt&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:A.reportedAt})]})]}),F&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,r.jsx)("h4",{className:"font-medium mb-3 text-green-800",children:"User Information:"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-green-700",children:"Name:"}),(0,r.jsx)("p",{className:"text-green-600",children:F.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-green-700",children:"Email:"}),(0,r.jsx)("p",{className:"text-green-600",children:F.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-green-700",children:"Role:"}),(0,r.jsx)("p",{className:"text-green-600 capitalize",children:F.role||F.roll})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-green-700",children:"Department:"}),(0,r.jsx)("p",{className:"text-green-600",children:F.department||"Not Available"})]})]})]})]})]})}),(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(d.Zp,{style:{borderColor:"#e7e7e7",backgroundColor:"#ffffff"},children:[(0,r.jsx)(d.aR,{children:(0,r.jsxs)(d.ZB,{className:"flex items-center space-x-2",style:{color:"#51247a"},children:[(0,r.jsx)(x.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Deadstock Summary"})]})}),(0,r.jsxs)(d.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Item:"}),(0,r.jsx)(m.E,{variant:"outline",children:L.find(e=>e._id===s.itemId)?.name||"Not Selected"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Quantity:"}),(0,r.jsx)(m.E,{variant:"outline",children:s.quantity})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Reason:"}),(0,r.jsx)(m.E,{variant:"destructive",children:s.reason||"Not Selected"})]}),(0,r.jsx)("div",{className:"border-t pt-3",style:{borderColor:"#e7e7e7"},children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-medium",style:{color:"#51247a"},children:"Reported By:"}),(0,r.jsx)(m.E,{variant:"secondary",children:F?F.name:"Not Selected"})]})}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-medium",style:{color:"#51247a"},children:"Department:"}),(0,r.jsx)(m.E,{variant:"secondary",children:F?F.department:"Not Selected"})]})]}),k&&(0,r.jsx)(c.Fc,{className:"border-green-200 bg-green-50",children:(0,r.jsx)(c.TN,{className:"text-green-700",children:"Deadstock record created successfully!"})}),A.submit&&(0,r.jsx)(c.Fc,{className:"border-red-200 bg-red-50",children:(0,r.jsx)(c.TN,{className:"text-red-700",children:A.submit})}),(0,r.jsxs)("div",{className:"space-y-3 pt-4",children:[(0,r.jsxs)(n.$,{onClick:X,className:"w-full text-white hover:bg-purple-700 flex items-center justify-center",style:{backgroundColor:"#51247a"},disabled:b,children:[(0,r.jsx)(f.A,{className:"w-4 h-4 mr-2"}),b?"Processing...":"Report Deadstock"]}),(0,r.jsxs)(n.$,{type:"button",variant:"outline",className:"w-full bg-transparent hover:bg-purple-50 flex items-center justify-center",style:{borderColor:"#e7e7e7",color:"#51247a"},onClick:()=>{g({userId:"",itemId:"",quantity:0,reason:"",reportedAt:""}),z(null),S(""),O(null),D(!1),q({}),w(!1)},children:[(0,r.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Reset Form"]})]})]})]})})]})]})}},93162:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var r=s(5853),a=s(60554),d=s(30708),n=s.n(d),l=s(8067),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let o={children:["",{children:["admin",{children:["dead-stock",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,24404)),"D:\\pstu_inventory_management\\frontend\\app\\admin\\dead-stock\\create\\page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(s.bind(s,22494)),"D:\\pstu_inventory_management\\frontend\\app\\admin\\dead-stock\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,87254)),"D:\\pstu_inventory_management\\frontend\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,31077))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,97898)),"D:\\pstu_inventory_management\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,92192,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,82137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,48358,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,31077))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\pstu_inventory_management\\frontend\\app\\admin\\dead-stock\\create\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/dead-stock/create/page",pathname:"/admin/dead-stock/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},98807:(e,t,s)=>{Promise.resolve().then(s.bind(s,24404))}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9683,9139,4405,8949,9143,8443],()=>s(93162));module.exports=r})();